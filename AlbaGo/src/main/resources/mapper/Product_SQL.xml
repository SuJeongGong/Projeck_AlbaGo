<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.spring.ex.dao.ProductDAO">

	<!-- 관리자 상품입니다 -->
	<select id="selectList" resultType="Product"> <!-- 관리자에서 상품보기 -->
		SELECT * FROM product
	</select>

	<insert id="insertProduct_term" parameterType="product"> <!-- 관리자에서 기간있는 상품추가 -->
		INSERT INTO
		product
		VALUES
		(NULL,
		#{name},
		#{term},
		#{price},
		#{amount},
		#{explan},
		1
		)

	</insert>
	<insert id="insertProduct_no_term" parameterType="product"> <!-- 관리자에서 기간없는 상품추가 -->
		INSERT INTO
		product
		(product_id,
		name,
		price,
		explan,
		amount)
		VALUES
		(NULL,
		#{name},
		#{price},
		#{explan},
		#{amount}
		)
	</insert>
	
	<update id="update_product">
	   UPDATE product 
	   SET name=#{name},term=#{term},price=#{price},product_explan=#{product_explan},amount=#{amount}
	   WHERE product_id=#{product_id}
   
	</update>
	
	
	<!-- 기업입니다 -->
	<select id="enterprise_selectList" resultType="Product"><!-- 기업에서 상품보기 -->
		SELECT * FROM product
	</select>
	
	<select id="enterprise_selectWrite" resultType="Product" parameterType ="int"><!-- 기업에서 상품보기 -->
		SELECT * FROM product where product_id =#{product_id}
	</select>
	

	<insert id="insertProduct_payment" parameterType="Payment"> <!-- 기업에서 결제승인하기 -->

		INSERT INTO payment

		(payment_id,
		product_id,
		enterprise_id,
		date)
		VALUES

		(null,
		#{product_id},
		#{enterprise_id},
		null);
</insert>


</mapper>
